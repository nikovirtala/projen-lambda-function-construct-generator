# Technology Stack

## ⚠️ Projen-Managed Project

This project is **entirely managed by projen**. Key implications:

- **DO NOT** manually edit generated files (package.json, tsconfig.json, etc.)
- **ALL** configuration changes must be made in `.projenrc.ts`
- After modifying `.projenrc.ts`, run `npx projen` to regenerate files
- Dependencies, scripts, and tooling are defined in `.projenrc.ts`, not package.json

## Build System

- **projen**: Project configuration and build orchestration
- **JSII**: Cross-language library compilation for CDK constructs
- **pnpm**: Package manager (v10)
- **TypeScript**: v5.9.3

## Core Dependencies

- **aws-cdk-lib**: AWS CDK v2 library
- **constructs**: CDK constructs base library
- **@mrgrain/cdk-esbuild**: esbuild integration for CDK
- **esbuild**: JavaScript/TypeScript bundler
- **glob**: File pattern matching
- **change-case**: String case conversion utilities
- **yargs**: CLI argument parsing

## Code Quality

- **Biome**: Linting and formatting (replaces ESLint/Prettier)
  - Tab indentation (4 spaces)
  - Double quotes for JavaScript/TypeScript
  - Format on save enabled
- **Vitest**: Testing framework with coverage via v8
- **TypeScript**: Strict mode enabled with comprehensive checks

## Node.js

- **Version**: 22.21.1 (managed via mise)
- **Target**: ES2020
- **Module System**: CommonJS for compilation, supports ES modules in generated code

## Common Commands

```bash
# Install dependencies
pnpm install

# Build the project (runs projen tasks)
pnpm build

# Run tests
pnpm test

# Run tests in watch mode
pnpm test:watch

# Update test snapshots
pnpm test:update

# Format and lint code
pnpm biome

# Compile TypeScript
pnpm compile

# Generate API documentation
pnpm docgen

# Run projen to regenerate project files
pnpm projen

# Package for distribution
pnpm package
```

## Development Workflow

1. Modify `.projenrc.ts` for project configuration changes
2. Run `pnpm projen` to regenerate managed files
3. Make code changes in `src/`
4. Run `pnpm build` to compile and test
5. Generated files are marked with `~~ Generated by projen` header

## CI/CD

- GitHub Actions for build, test, and release
- Auto-merge enabled for dependency updates (via Mergify)
- Trusted publishing to npm
- Auto-approval for @nikovirtala
